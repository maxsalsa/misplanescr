"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { Menu } from "lucide-react";
// import NotificationCenter from "@/components/features/NotificationCenter";
// import { Sidebar } from "@/components/ui/sidebar"; // V90 APP SHELL INTEGRATION
// import AntiTheft from "@/components/shield/AntiTheft"; // V152 BLINDAJE

export default function DashboardLayout({ children }) {
  const pathname = usePathname();

  return (
    <div className="drawer lg:drawer-open bg-slate-50 min-h-screen font-sans" data-theme="corporate">
      {/* <AntiTheft /> */}
      <input id="my-drawer-2" type="checkbox" className="drawer-toggle" />

      <div className="drawer-content flex flex-col">
        {/* BARRA SUPERIOR (HEADER) */}
        <div className="w-full navbar bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-40 px-6 justify-between supports-[backdrop-filter]:bg-white/60">
          <div className="flex items-center gap-2 lg:hidden">
            <label htmlFor="my-drawer-2" className="btn btn-square btn-ghost btn-sm text-slate-600">
              <Menu size={24} />
            </label>
            <span className="font-extrabold text-slate-800 tracking-tight text-lg">AulaPlan</span>
          </div>

          {/* BARRA DERECHA: NOTIFICACIONES + USUARIO */}
          <div className="flex-1 justify-end flex items-center gap-4">
            <div className="hidden md:flex items-center gap-2 px-3 py-1.5 bg-emerald-50 border border-emerald-100 rounded-full">
              <div className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
              <span className="text-[10px] font-bold text-emerald-700 tracking-wide">SISTEMA ONLINE</span>
            </div>

            {/* <NotificationCenter /> */}

            <div className="w-px h-6 bg-slate-200 mx-2"></div>

            <div className="hidden md:block text-right mr-2 leading-none">
              <p className="text-xs font-bold text-slate-800">Lic. Salazar</p>
              <p className="text-[10px] text-blue-600 font-bold mt-0.5">PLAN ULTRA (V90)</p>
            </div>
            <div className="avatar placeholder ring-2 ring-slate-100 rounded-full">
              <div className="bg-slate-900 text-white rounded-full w-9 h-9 flex items-center justify-center shadow-lg">
                <span className="text-xs font-bold">MS</span>
              </div>
            </div>
          </div>
        </div>

        {/* MAIN CONTENT AREA */}
        <main className="p-6 md:p-8 max-w-7xl mx-auto w-full animate-in slide-in-from-bottom-2 duration-500">
          {children}
        </main>
      </div>

      {/* SIDEBAR V90 (APP SHELL) */}
      {/* <Sidebar /> */}
    </div>
  );
}